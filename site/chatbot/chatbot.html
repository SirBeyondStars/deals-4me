<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Deals-4Me Assistant</title>

  <!-- Main site styles -->
  <link rel="stylesheet" href="theme.css" />

  <style>
    /* Minimal extra styling just for the chat layout */
    body {
      background: #0f172a; /* if this clashes with theme.css, theme will override */
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
    }

    .chat-shell {
      width: min(900px, 100%);
      height: min(650px, 90vh);
      background: rgba(15, 23, 42, 0.95);
      border-radius: 16px;
      border: 1px solid rgba(148, 163, 184, 0.5);
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.5);
      display: flex;
      flex-direction: column;
      overflow: hidden;
    }

    .chat-header {
      padding: 12px 18px;
      border-bottom: 1px solid rgba(51, 65, 85, 0.9);
      display: flex;
      justify-content: space-between;
      align-items: center;
      background: radial-gradient(circle at top left, #22c55e 0, #0f172a 45%);
    }

    .chat-header-title {
      font-size: 1rem;
      font-weight: 600;
      color: #e5e7eb;
    }

    .chat-header-sub {
      font-size: 0.78rem;
      color: #cbd5f5;
      opacity: 0.9;
    }

    .chat-region-pill {
      font-size: 0.75rem;
      background: rgba(15, 23, 42, 0.7);
      color: #bbf7d0;
      padding: 4px 10px;
      border-radius: 999px;
      border: 1px solid rgba(16, 185, 129, 0.6);
      white-space: nowrap;
    }

    .chat-log {
      flex: 1;
      padding: 14px 16px;
      overflow-y: auto;
      background: radial-gradient(circle at top, #020617 0, #020617 40%, #020617 100%);
    }

    .msg-row {
      margin-bottom: 10px;
      display: flex;
    }

    .msg-row.user {
      justify-content: flex-end;
    }

    .msg-row.bot {
      justify-content: flex-start;
    }

    .msg-bubble {
      max-width: 80%;
      padding: 9px 11px;
      border-radius: 12px;
      font-size: 0.9rem;
      line-height: 1.3;
    }

    .msg-bubble.user {
      background: #22c55e;
      color: #052e16;
      border-bottom-right-radius: 4px;
    }

    .msg-bubble.bot {
      background: #111827;
      color: #e5e7eb;
      border-bottom-left-radius: 4px;
      border: 1px solid rgba(55, 65, 81, 0.9);
    }

    .chat-footer {
      border-top: 1px solid rgba(31, 41, 55, 0.9);
      padding: 10px;
      background: #020617;
    }

    .chat-form {
      display: flex;
      gap: 8px;
    }

    .chat-input {
      flex: 1;
      border-radius: 999px;
      border: 1px solid rgba(55, 65, 81, 0.9);
      padding: 8px 12px;
      background: #020617;
      color: #e5e7eb;
      font-size: 0.9rem;
      outline: none;
    }

    .chat-input::placeholder {
      color: #6b7280;
    }

    .chat-send-btn {
      border-radius: 999px;
      border: none;
      padding: 0 16px;
      font-size: 0.9rem;
      font-weight: 500;
      cursor: pointer;
      background: #22c55e;
      color: #052e16;
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .chat-send-btn:disabled {
      opacity: 0.6;
      cursor: default;
    }

    .chat-hint {
      margin-top: 6px;
      font-size: 0.75rem;
      color: #9ca3af;
    }

    .chat-hint span {
      color: #bbf7d0;
    }
  </style>
</head>
<body>
  <div class="chat-shell">
    <header class="chat-header">
      <div>
        <div class="chat-header-title">Deals-4Me Assistant</div>
        <div class="chat-header-sub">Ask me about flyers, saved items, and how the site works.</div>
      </div>
      <div class="chat-region-pill">
        Region: <span id="chat-region-label">NE (New England)</span>
      </div>
    </header>

    <main id="chat-log" class="chat-log">
      <!-- messages appear here -->
    </main>

    <footer class="chat-footer">
      <form id="chat-form" class="chat-form" autocomplete="off">
        <input
          id="chat-input"
          class="chat-input"
          type="text"
          placeholder="Ask a question about Deals-4Me..."
        />
        <button id="chat-send-btn" class="chat-send-btn" type="submit">
          Send
        </button>
      </form>
      <div class="chat-hint">
        Try: <span>“How do I add a saved item?”</span> or <span>“What is D4Mii?”</span>
      </div>
    </footer>
  </div>

  <script src="chatbot/chat.js"></script>
</body>
</html>
